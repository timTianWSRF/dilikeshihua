
<!-- ç›®æ ‡æ£€æµ‹å¼¹çª—é¡µé¢ -->

<head>
  <!-- å¼•å…¥ layui.css-->
  <link rel="stylesheet" href="//unpkg.com/layui@2.6.8/dist/css/layui.css">

  <!-- å¼•å…¥ layui.js-->
  <script src="//unpkg.com/layui@2.6.8/dist/layui.js"></script>
  <script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
</head>

<body>
  <div class="layui-row">
    <div class="layui-col-md6">



       </select>


      <button class="layui-btn" id="demo1" style="margin-left: 5%;margin-top: 5%;margin-bottom: 1%;">
        åœ°åŒºé€‰æ‹©
        <i class="layui-icon layui-icon-down layui-font-12"></i>
      </button>
      <form class="layui-form" action=""  style="overflow-y: scroll;height: 80%;">



        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>é“è·¯å¯†åº¦</legend>
          </fieldset>
          <!-- <label class="layui-form-label">é“è·¯å¯†åº¦</label> -->
          <div class="layui-input-block" style="height: 30px;">
            <input type="radio" name="road-density" value="-1" title="é»˜è®¤" checked="">
            <input type="radio" name="road-density" value="0" title="ä½">
            <input type="radio" name="road-density" value="1" title="ä¸­">
            <input type="radio" name="road-density" value="2" title="é«˜">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>é™†åœ°åœ°è²ŒåŠåœŸè´¨</legend>
          </fieldset>
          <label class="layui-form-label">ç­‰é«˜çº¿</label>       <!--æ­¤å¤„çš„formï¼ŒåŠ å…¥è¡¨å•ä¸­-->
          <div class="layui-input-inline" style="width: 100px;">
            <input type="text" name="h_min" placeholder="ç±³m" autocomplete="off" class="layui-input" lay-verify="number" value="-20000">
          </div>
          <div class="layui-form-mid">-</div>
          <div class="layui-input-inline" style="width: 100px;">
            <input type="text" name="h_max" placeholder="ç±³m" autocomplete="off" class="layui-input" lay-verify="number" value="50000">
          </div>
          <br>
          <br>
          <br>
          <br>
          <label class="layui-form-label">åœ°&nbsp&nbsp&nbsp&nbspè²Œ</label>
          <div class="layui-input-block" style="height: 12px;">
            <input type="checkbox" name="landform[0]" value="0" lay-skin="primary" title="é›ªå±±åœ°è²Œ" checked="">
            <input type="checkbox" name="landform[1]" value="1" lay-skin="primary" title="é»„åœŸåœ°è²Œ">
            <input type="checkbox" name="landform[2]" value="2" lay-skin="primary" title="å²©æº¶åœ°è²Œ"><br>
            <input type="checkbox" name="landform[3]" value="3" lay-skin="primary" title="é£æˆåœ°è²Œ">
            <input type="checkbox" name="landform[4]" value="4" lay-skin="primary" title="ç«å±±åœ°è²Œ">
            <input type="checkbox" name="landform[5]" value="5" lay-skin="primary" title="å…¶ä»–åœ°è²Œ">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>æ°´åŸŸ</legend>
          </fieldset>
          <!-- <label class="layui-form-label">é“è·¯å¯†åº¦</label> -->
          <div class="layui-input-block">
            <input type="radio" name="lake" value="-1" title="é»˜è®¤" checked="">
            <input type="radio" name="lake" value="1" title="æ˜¯">
            <input type="radio" name="lake" value="0" title="å¦">
          </div>
        </div>


        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>æµ‹é‡æ§åˆ¶ç‚¹</legend>
          </fieldset>
          <div class="layui-input-block" style="height: 30px;">
            <input type="radio" name="surveyControlPoint" value="-1" title="é»˜è®¤" checked="">
            <input type="radio" name="surveyControlPoint" value="1" title="æ˜¯">
            <input type="radio" name="surveyControlPoint" value="0" title="å¦">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>å·¥å†œä¸šç¤¾ä¼šæ–‡åŒ–è®¾æ–½</legend>
          </fieldset>
          <div class="layui-input-block" style="height: 30px;">
            <input type="radio" name="industrial_and_agricultural_social_and_cultural_facilities" value="-1" title="é»˜è®¤" checked="">
            <input type="radio" name="industrial_and_agricultural_social_and_cultural_facilities" value="1" title="æ˜¯">
            <input type="radio" name="industrial_and_agricultural_social_and_cultural_facilities" value="0" title="å¦">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>å±…æ°‘åœ°åŠé™„å±è®¾æ–½</legend>
          </fieldset>
          <div class="layui-input-block" style="height: 30px;">
            <input type="checkbox" name="residential_land_and_ancillary_facilities[0]" lay-skin="primary"  value="0" title="å±…æ°‘åœ°" checked="">
            <input type="checkbox" name="residential_land_and_ancillary_facilities[1]" lay-skin="primary"  value="1" title="ç‹¬ç«‹å»ºç­‘ç‰©" checked="">
            <input type="checkbox" name="residential_land_and_ancillary_facilities[2]" lay-skin="primary"  value="2" title="å…¶ä»–å»ºç­‘ç‰©" checked="">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>ç®¡çº¿</legend>
          </fieldset>
          <div class="layui-input-block" style="height: 30px;">
            <input type="checkbox" name="pipeline[0]" lay-skin="primary" value="0" title="ç”µåŠ›çº¿" checked="">
            <input type="checkbox" name="pipeline[1]" lay-skin="primary" value="1" title="é€šä¿¡çº¿" checked="">
            <input type="checkbox" name="pipeline[2]" lay-skin="primary" value="2" title="ç®¡é“" checked="">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>æ¤è¢«</legend>
          </fieldset>
          <div class="layui-input-block" style="height: 30px;">
            <input type="radio" name="plant" value="-1" title="é»˜è®¤" checked="">
            <input type="radio" name="plant" value="1" title="æ˜¯">
            <input type="radio" name="plant" value="0" title="å¦">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>æœºåœº</legend>
          </fieldset>
          <div class="layui-input-block" style="height: 30px;">
            <input type="radio" name="airport" value="-1" title="é»˜è®¤" checked="">
            <input type="radio" name="airport" value="1" title="æ˜¯">
            <input type="radio" name="airport" value="0" title="å¦">
          </div>
        </div>

        <div class="layui-form-item">
          <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
            <legend>å†›äº‹åŒºåŸŸ</legend>
          </fieldset>
          <div class="layui-input-block" style="height: 30px;">
            <input type="radio" name="military_area" value="-1" title="é»˜è®¤" checked="">
            <input type="radio" name="military_area" value="1" title="æ˜¯">
            <input type="radio" name="military_area" value="0" title="å¦">
          </div>
        </div>

        <div class="layui-form-item">
          <button type="submit" class="layui-btn layui-btn-normal layui-btn-radius" style="margin-left: 10%;" lay-submit=""  data-anim="layui-anim-rotate layui-anim-loop">æ          äº¤</button>
        </div>

      </form>
    </div>
    <div class="layui-col-md6">
      <div class="layui-card" style="margin-top: 5%;margin-left: 5%;margin-right: 5%; height: 90%;">
        <div id='zbTitle' class="layui-card-header">æ£€ç´¢ç»“æœæ˜¾ç¤º</div>
        <div id='zbShow' class="layui-card-body" style="overflow-y: scroll;height: 87%;">
          æ£€ç´¢ç»“æœåæ ‡

        </div>
      </div>
    </div>
  </div>

</body>

<script>

// åˆ·æ–°åœ°å›¾
function refresjFrame() {
    document.getElementById('drawmap').contentWindow.location.reload(true)
}

// ç¡çœ å‡½æ•°
function sleep(numberMillis) {
	var now = new Date();
	var exitTime = now.getTime() + numberMillis;
	while (true) {
		now = new Date();
		if (now.getTime() > exitTime)
		return;
	Â Â Â Â }
}

layui.use('form', function(){
  var form = layui.form;

  //ç›‘å¬æäº¤
  form.on('submit()', function(data1){
    // Object.assign()
    ddata = {'dbName':dbName};
    Object.assign(ddata, data1.field);
    alert('ddata='+JSON.stringify(ddata));
      $.ajax({
            url: '/../../aim1',
            type : 'GET',
            data:ddata,
            // åœ¨æ”¶åˆ°æœåŠ¡å™¨è¿”å›å‰
            beforeSend:function(){
              zbShow.innerHTML='Loading............';
            },
            // æœåŠ¡å™¨è¿”å›ç»“æœå
            complete:function(){
                var zbTitle=document.getElementById("zbTitle");
                zbTitle.innerHTML="æŸ¥è¯¢ç»“æœ";
            },
            // æœåŠ¡å™¨è¿”å›æˆåŠŸåæ‰§è¡Œ
            success: function (data) {
                console.log(data);
                var zbShow=document.getElementById("zbShow");
                zbShow.innerHTML=data;
                if(data.length==0) zbShow.innerHTML="VIPè§£é”æŸ¥çœ‹è¯¦ç»†å†…å®¹ï¼ï¼ï¼<br> --by ll";
              //  d3.selectAll("svg").remove();



                //å·¦ä¾§å¼¹å‡ºåœ°å›¾ç•Œé¢
                  layer.open({
                  type: 2
                  ,title: "å®šä½åœ°å›¾" //ä¸æ˜¾ç¤ºæ ‡é¢˜æ 
                  ,closeBtn: false
                  ,area: ['50%', '100%']
                  ,shade: 0
                  ,offset:['0px', '0px']
                      ,maxmin: true
                  ,id: 'draw_map' //è®¾å®šä¸€ä¸ªidï¼Œé˜²æ­¢é‡å¤å¼¹å‡º
                  ,btn: ['å…³é—­']
                  ,btnAlign: 'c'
                  ,moveType: 1 //æ‹–æ‹½æ¨¡å¼ï¼Œ0æˆ–è€…1,
                  ,content:"draw_geo.html"
		});




            },
            // æœåŠ¡å™¨è¿”å›å¤±è´¥åæ‰§è¡Œ
            error: function (error) {
                alert('å‡ºé”™äº†ï¼Œè¯·ç¨åé‡è¯•')
            },

    });
    return false;
  });

//å¤é€‰æ¡†ç›‘å¬äº‹ä»¶ï¼ˆåªèƒ½å•é€‰ï¼‰
form.on('checkbox',function(data){
	var oldState = data.elem.checked; // è®°å½•çŠ¶æ€
    var elName = data.elem.name || ''; // å–å½“å‰åç§°
    $("input[name='"+elName+"']").prop("checked", false);	//å…¨éƒ¨å–æ¶ˆé€‰ä¸­(nameè¦ä¸€è‡´)
    $(this).prop("checked", true);	//å‹¾é€‰å½“å‰é€‰ä¸­çš„é€‰æ‹©æ¡†
    if(!oldState){ // å¦‚æœæ˜¯flaseè¡¨ç¤ºç‚¹å‡»çš„æ˜¯ä¹‹å‰å·²è¢«é€‰ä¸­çš„é‚£ä¸ª
      $(this).prop("checked", false); // å–æ¶ˆå‹¾é€‰å½“å‰çš„
    }
    form.render('checkbox');	//é‡æ–°æ¸²æŸ“
});

});
dbName = '';
//å“¼ğŸ˜•è¿™ä¸ªæ‰ä¸æ˜¯ä¸‹æ‹‰æ¡†çš„è¯´
layui.use('dropdown', function(){
  var dropdown = layui.dropdown;
  dropdown.render({
    elem: '#demo1' //å¯ç»‘å®šåœ¨ä»»æ„å…ƒç´ ä¸­ï¼Œæ­¤å¤„ä»¥ä¸Šè¿°æŒ‰é’®ä¸ºä¾‹
    ,data: oobj
    // [{
    //   title: 'menu item 1'
    //   ,id: 100
    //   ,href: '#'
    // },{
    //   title: 'menu item 2'
    //   ,id: 101
    //   ,href: 'https://www.layui.com/' //å¼€å¯è¶…é“¾æ¥
    //   ,target: '_blank' //æ–°çª—å£æ–¹å¼æ‰“å¼€
    // }]
    ,id: 'demo1'
    //èœå•è¢«ç‚¹å‡»çš„äº‹ä»¶
    ,click: function(obj){
      // alert(obj.title)
      document.getElementById("demo1").innerHTML=obj.title+'          <i class="layui-icon layui-icon-down layui-font-12"></i>';
      dbName = obj.title[0]

      // console.log(obj);
      // layer.msg('å›è°ƒè¿”å›çš„å‚æ•°å·²æ˜¾ç¤ºå†æ§åˆ¶å°');
    }
  });
});

//è¿™ä¸ªä¸æ˜¯æ»‘åŠ¨æ¡
  layui.use('slider', function(){
    var $ = layui.$
    ,slider = layui.slider;
    //é»˜è®¤æ»‘å—
    slider.render({
      elem: '#slideTest1'
    });

    //å®šä¹‰åˆå§‹å€¼
    slider.render({
      elem: '#slideTest2'
      ,value: 20 //åˆå§‹å€¼
    });

    //è®¾ç½®æœ€å¤§æœ€å°å€¼
    slider.render({
      elem: '#slideTest3'
      ,min: 20 //æœ€å°å€¼
      ,max: 50 //æœ€å¤§å€¼
    });

    //è®¾ç½®æ­¥é•¿
    slider.render({
      elem: '#slideTest4'
      ,step: 10 //æ­¥é•¿
    });

    slider.render({
      elem: '#slideTest5'
      ,step: 10 //æ­¥é•¿
      ,showstep: true //å¼€å¯é—´éš”ç‚¹
    });

    //è®¾ç½®æç¤ºæ–‡æœ¬
    slider.render({
      elem: '#slideTest6'
      ,min: 20
      ,max: 1000
      ,setTips: function(value){ //è‡ªå®šä¹‰æç¤ºæ–‡æœ¬
       return value + 'GB';
      }
    });
    slider.render({
      elem: '#slideTest7'
      ,tips: false //å…³é—­é»˜è®¤æç¤ºå±‚
      ,change: function(value){
        $('#test-slider-tips1').html('å½“å‰æ•°å€¼ï¼š'+ value);
      }
    });

    //å¼€å¯è¾“å…¥æ¡†
    slider.render({
      elem: '#slideTest8'
      ,input: true //è¾“å…¥æ¡†
    });

    //å¼€å¯èŒƒå›´é€‰æ‹©
    slider.render({
      elem: '#slideTest9'
      ,value: 40 //åˆå§‹å€¼
      ,range: true //èŒƒå›´é€‰æ‹©
      ,change: function(vals){
        $('#test-slider-tips2').html('å¼€å§‹å€¼ï¼š'+ vals[0] + 'ã€ç»“å°¾å€¼ï¼š'+ vals[1]);
      }
    });
    slider.render({
      elem: '#slideTest10'
      ,value: [30, 60] //åˆå§‹å€¼
      ,range: true //èŒƒå›´é€‰æ‹©
    });

    //å‚ç›´æ»‘å—
    slider.render({
      elem: '#slideTest11'
      ,type: 'vertical' //å‚ç›´æ»‘å—
    });
    slider.render({
      elem: '#slideTest12'
      ,value: 30
      ,type: 'vertical' //å‚ç›´æ»‘å—
    });
    slider.render({
      elem: '#slideTest13'
      ,value: 50
      ,range: true //èŒƒå›´é€‰æ‹©
      ,type: 'vertical' //å‚ç›´æ»‘å—
    });
    slider.render({
      elem: '#slideTest14'
      ,value: 80
      ,input: true //è¾“å…¥æ¡†
      ,type: 'vertical' //å‚ç›´æ»‘å—
    });

    //è‡ªå®šä¹‰é¢œè‰²
    slider.render({
      elem: '#slideTest15'
      ,theme: '#1E9FFF' //ä¸»é¢˜è‰²
    });
    slider.render({
      elem: '#slideTest16'
      ,value: 50
      ,theme: '#5FB878' //ä¸»é¢˜è‰²
    });
    slider.render({
      elem: '#slideTest17'
      ,value: [30, 70]
      ,range: true
      ,theme: '#FF5722' //ä¸»é¢˜è‰²
    });

    //ç¦ç”¨æ»‘å—
    slider.render({
      elem: '#slideTest18'
      ,value: 35
      ,disabled: true //ç¦ç”¨æ»‘å—
    });

  });
  </script>